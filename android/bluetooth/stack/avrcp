/************************
 target
 biif_rc中包含target,controller的逻辑
*/
//target接口
static const btrc_interface_t bt_rc_interface = {
    sizeof(bt_rc_interface),
    init,
    get_play_status_rsp,
    NULL, /* list_player_app_attr_rsp */
    NULL, /* list_player_app_value_rsp */
    NULL, /* get_player_app_value_rsp */
    NULL, /* get_player_app_attr_text_rsp */
    NULL, /* get_player_app_value_text_rsp */
    get_element_attr_rsp,
    NULL, /* set_player_app_value_rsp */
    register_notification_rsp,
    set_volume,
    set_addressed_player_rsp,
    set_browsed_player_rsp,
    get_folder_items_list_rsp,
    change_path_rsp,
    get_item_attr_rsp,
    play_item_rsp,
    get_total_num_of_items_rsp,
    search_rsp,
    add_to_now_playing_rsp,
    cleanup,
}

init(btrc_callbacks_t* callbacks){//target
- bt_rc_callbacks = callbacks//设置回调
- lbl_init
}@btif_rc.cc




/*
 接收到命令
*/
btif_rc_handler{
- BTA_AV_RC_OPEN_EVT:handle_rc_connect{
	- handle_rc_ctrl_features-->getcapabilities_cmd(AVRC_CAP_COMPANY_ID)//发送获取CAP命令
	}
- BTA_AV_META_MSG_EVT{
	- handle_rc_metamsg_cmd-->btif_rc_upstreams_evt(AVRC_PDU_GET_ELEMENT_ATTR)-->get_element_attr_cb //收到获取信息命令
	- AVRC_OP_VENDOR:handle_avk_rc_metamsg_rsp
	}
}

//contorller收到回复消息
handle_rc_metamsg_rsp-->btif_rc_upstreams_rsp_evt{
- AVRC_PDU_REGISTER_NOTIFICATION
- AVRC_PDU_SET_ABSOLUTE_VOLUME
- AVRC_PDU_GET_ELEMENT_ATTR-->HAL_CBACK(bt_rc_ctrl_callbacks,get_element_attr_rsp_cb)//回调更新函数
}@btif_rc.cc



/*
 回复信息
*/


get_element_attr_rsp 



//回复获取item(播放列表中的歌曲？)信息
btif_rc_upstreams_evt(AVRC_PDU_GET_ITEM_ATTRIBUTES)-->get_item_attr_cb

get_item_attr_rsp@btif_rc

bta_av_hdl_event@bta_av_main.cc-->
bta_av_sm_execute-->bta_av_rc_msg-->bta_av_proc_meta_cmd@bta_av_act.cc



packages/apps/Bluetooth/jni/com_android_bluetooth_avrcp.cpp
bt/btif/src/bluetooth.cc
bt/btif/src/btif_rc.cc
bt/bta/av/bta_av_main.cc
bt/bta/av/bta_av_act.cc
bt/btif/avrcp/avrcp_service.cc
bt/profile/avrcp/connection_handler.cc
